{"name":"Django-choices-flow","tagline":"Meta Choice with simple flow and rules","body":"django-choices-flow\r\n==================\r\n\r\nMeta Choice with simple flow and rules\r\n\r\n[![Build Status](https://travis-ci.org/valdergallo/django-choices-flow.png?branch=master)](https://travis-ci.org/valdergallo/django-choices-flow)\r\n[![Coverage Status](https://coveralls.io/repos/valdergallo/django-choices-flow/badge.png)](https://coveralls.io/r/valdergallo/django-choices-flow)\r\n\r\n## Usage\r\n\r\n\r\n```python\r\nfrom django.db import models\r\nfrom django_choices_flow import Choices\r\nfrom django_choices_flow.models import FlowIntegerField\r\n\r\n\r\nclass MyChoices(Choices):\r\n    NEW = 1, 'New content' # 'New content' is the display text\r\n    WAIT = 2, 'Wait'\r\n    CANCELED = -1, 'Canceled'\r\n    ERROR = -2, 'Error'\r\n    INVOICED = 3, 'Invoiced'\r\n\r\n    # set transaction rules\r\n    NEW_RULES = [NEW, INVOICED, CANCELED, ERROR]\r\n    WAIT_RULES = [CANCELED, ERROR, INVOICED]\r\n    INVOICED_RULES = [CANCELED]\r\n\r\n\r\nclass Invoces(models.Model):\r\n\t\"\"\"\r\n\tTo use only choices\r\n\t\"\"\"\r\n    number = models.IntegerField()\r\n    status = models.IntegerField(choices=MyChoices, default=MyChoices.NEW)\r\n\r\n    def __unicode__(self):\r\n        return self.number\r\n\r\n\r\nclass FlowInvoice(models.Model):\r\n\t\"\"\"\r\n\tTo validate flow in choices\r\n\t\"\"\"\r\n\tnumber = models.IntegerField()\r\n\tstatus = FlowIntegerField(choices=MyChoices, default=MyChoices.NEW)\r\n\r\n\tdef __unicode__(self):\r\n        return self.number\r\n```\r\n\r\n### Shell\r\n\r\n```python\r\n>>> flow = FlowInvoice.objects.create(number=1234)\r\n>>> flow.status\r\n1\r\n>>> flow.status = MyChoices.INVOICED\r\n>>> flow.full_clean()\r\n>>> flow.save()\r\n>>> flow.status\r\n3\r\n>>> flow.status = MyChoices.WAIT\r\n>>> flow.full_clean()\r\nValidationError: {'status': [u'Wait is a invalid choice in this flow']}\r\n```\r\n\r\n## Developer\r\n\r\n```bash\r\n# download code\r\ngit clone git@github.com:valdergallo/django-choices-flow.git\r\n\r\n# install developer packages\r\nmake\r\n\r\n# check coverage\r\nmake coverage\r\n\r\n# test project\r\nmake test\r\n\r\n#clean extra content\r\nmake clean\r\n\r\n#send package\r\nmake send_package\r\n\r\n#test py2 and py3\r\ntox\r\n```\r\n\r\n\r\n-----------------------------------------------------------\r\n    License type: FREEBSD\r\n    South: Support migrations\r\n    Python: python 2.7 and python 3.3\r\n    Version: 0.8.5\r\n    Tested in Django: 1.2.7; 1.3.7; 1.4.5; 1.5.1\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}